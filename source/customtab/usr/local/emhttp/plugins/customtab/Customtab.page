Menu="Utilities"
Title="Custom Tab"
Icon="/images/customtab.png"
---
<?PHP
$plugin = 'customtab';
$cfg = parse_plugin_cfg($plugin);

$Credits = "
    <center><table align:'center'>
      <tr>
        <td><img src='https://github.com/Squidly271/plugin-repository/raw/master/Chode_300.gif' width='50px';height='48px'></td>
        <td><strong>Squid</strong></td>
        <td>Main Development</td>
      </tr>
    </table></center>
    <br>
    <center><a href='https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=7M7CBCVU732XG' target='_blank'><img src='https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif'></a></center>
    <br><center><a href='https://forums.lime-technology.com/topic/57109-plugin-custom-tab/' target='_blank'>Plugin Support Thread</a></center>
  ";
  $Credits = str_replace("\n","",$Credits);
?>
<script>
var URL = "/plugins/customtab/include/exec.php";

function applyTab() {
  var name = $("#customtabname").val();
  var fullname = $("#fullname").val();
  var tabURL = $("#url").val();
  var width = $("#width").val();
  var height = $("#height").val();
  
  $.post(URL,{name:name,fullname:fullname,tabURL:tabURL,width:width,height:height},function(data) {
    if ( data ) {
      location.reload();
    }
  });
}

function showCredits() {
  myAlert("Custom Tab","<?=$Credits?>","/plugins/customtab/images/customlarge.png","96x96", true, false, true);
}

function myAlert(description,textdescription,textimage,imagesize, outsideClick, showCancel, showConfirm, alertType) {
  if ( !outsideClick ) outsideClick = false;
  if ( !showCancel )   showCancel = false;
  if ( !showConfirm )  showConfirm = false;
  if ( imagesize == "" ) { imagesize = "80x80"; }
  swal({
    title: description,
    text: textdescription,
    imageUrl: textimage,
    imageSize: imagesize,
    allowOutsideClick: outsideClick,
    showConfirmButton: showConfirm,
    showCancelButton: showCancel,
    type: alertType,
    html: true
  });
}
</script>
<form markdown="1" method="POST" action="/update.php" target="progressFrame">
<input type="hidden" name="#file" value="<?=$plugin?>/<?=$plugin?>.cfg">

Tab Name:
: <input type="text" id='customtabname' name="tabname" class="narrow" maxlength="20" value="<?=$cfg['name']?>" placeholder="Custom">

Full Tab Name:
: <input type="text" id="fullname" name="fullname" class="narrow" maxlength="50" value="<?=$cfg['fullname']?>">

URL:
: <input type='text' id='url' name='url' value='<?=$cfg['tabURL']?>'>

Width:
: <input type='text' id='width' class='narrow' name='width' value='<?=$cfg['width']?>' placeholder='1280'>

Height:
: <input type='text' id='height' class='narrow' name='height' value='<?=$cfg['height']?>' placeholder='500'>

: <input type="button" value="Apply" onclick='applyTab();'><input type="button" value="Done" onclick="done()">
</form>
<a class='ca_credits' style='float:right;cursor:pointer' onclick='showCredits();'>Credits</a>
